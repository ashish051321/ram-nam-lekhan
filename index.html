<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>राम नाम लेखन</title>

  <link href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
  <!-- Consent Popup -->
  <div id="consentPopup">
    <h3>🍪 Privacy & Analytics</h3>
    <p>We use Google Analytics to understand how visitors interact with our site. This helps us improve the experience. Your data is handled according to our privacy policy.</p>
    <div class="consent-buttons">
      <button class="consent-btn consent-accept" id="acceptAnalytics">Accept</button>
      <button class="consent-btn consent-decline" id="declineAnalytics">Decline</button>
    </div>
    <div class="consent-settings">
      <a href="#" id="privacyLink">Privacy Policy</a>
    </div>
  </div>

  <div id="counter">0 ✍️</div>
  <button id="toggleButton">Start Writing</button>
  <button id="backgroundSwitcher">🎨</button>
  <button id="soundToggle">🔊</button>
  <button id="whatsappShare"></button>
  <button id="mapButton" title="Live Map">🗺️</button>
  <button id="historyButton" title="History">🕘</button>
  <div id="hanuman"></div>

  <div class="wrap">
    <header>
      <div class="dot" aria-hidden="true"></div>
      <div>
        Tap / click anywhere or press <strong>Space</strong> to keep writing <strong>“राम”</strong>
      </div>
    </header>

    <main class="page" id="page" aria-label="Writing surface" role="application" tabindex="0">
      <span class="line" id="line"></span>
    </main>

    <!-- <div class="hint">Backspace to remove last word.</div> -->
  </div>

  <!-- Removed inline script: migrated to JS modules in js/ -->
  <script type="module" src="./js/index.js"></script>
  
  <!-- Map Modal -->
  <div id="mapModal" class="map-modal">
    <div class="map-dialog">
      <div class="map-header">
        <div class="map-title">Live Map (mock)</div>
        <div class="map-legend"><span class="map-swatch"></span>Active writers</div>
        <div class="map-tools">
          <button id="mapZoomOut" class="map-zoom">−</button>
          <button id="mapZoomIn" class="map-zoom">+</button>
          <button id="mapClose" class="map-close" aria-label="Close">✖</button>
        </div>
      </div>
      <div class="map-viewport" id="mapViewport">
        <div class="map-canvas" id="mapCanvas"></div>
      </div>
    </div>
  </div>
  
  <!-- History Modal -->
  <div id="historyModal" class="history-modal">
    <div class="history-dialog">
      <div class="history-header">
        <div class="history-title">History</div>
        <div class="history-legend"><span class="legend-swatch"></span>108 completed</div>
        <button id="historyClose" class="history-close" aria-label="Close">✖</button>
      </div>
      <div class="history-tabs" role="tablist">
        <button id="tabCalendar" class="history-tab active" role="tab" aria-selected="true">Calendar</button>
        <button id="tabSessions" class="history-tab" role="tab" aria-selected="false">Sessions</button>
      </div>
      <div id="tabPanelCalendar" class="tab-panel" role="tabpanel">
        <div class="history-cal">
          <div class="history-cal-header">
            <button id="calPrev" class="cal-nav" aria-label="Previous Month">◀</button>
            <div id="calMonthLabel" class="cal-month">Month YYYY</div>
            <button id="calNext" class="cal-nav" aria-label="Next Month">▶</button>
          </div>
          <div class="history-cal-grid" id="historyCalendar"></div>
        </div>
      </div>
      <div id="tabPanelSessions" class="tab-panel" role="tabpanel" hidden>
        <div id="historyList" class="history-list"></div>
      </div>
      <div class="history-footer">
        <button id="historyClear" class="history-clear">Clear History</button>
      </div>
    </div>
  </div>
</body>
</html>
